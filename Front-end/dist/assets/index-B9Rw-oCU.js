(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();const pe="modulepreload",ge=function(e){return"/"+e},ae={},oe=function(t,n,o){let a=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(m=>Promise.resolve(m).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=s(n.map(c=>{if(c=ge(c),c in ae)return;ae[c]=!0;const m=c.endsWith(".css"),u=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const p=document.createElement("link");if(p.rel=m?"stylesheet":pe,m||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),m)return new Promise((h,f)=>{p.addEventListener("load",h),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return a.then(s=>{for(const i of s||[])i.status==="rejected"&&r(i.reason);return t().catch(r)})},fe="http://localhost:8000";async function $(e,t={}){try{const n=`${fe}${e}`,o={"Content-Type":"application/json",...t.headers},a=await fetch(n,{...t,headers:o});if(!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||`API error: ${a.status} ${a.statusText}`)}return{data:await a.json(),error:null,loading:!1}}catch(n){return console.error("API request failed:",n),{data:null,error:n instanceof Error?n.message:"Unknown error occurred",loading:!1}}}const J={users:{register:async(e,t,n)=>$("/register",{method:"POST",body:JSON.stringify({username:e,password:t,email:n})}),setAlias:async(e,t)=>$("/set-alias",{method:"POST",body:JSON.stringify({userId:e,alias:t})}),login:async(e,t)=>$("/login",{method:"POST",body:JSON.stringify({username:e,password:t})}),getProfile:async e=>$(`/users/${e}`,{method:"GET"})},tournaments:{create:async(e,t,n)=>$("/tournaments",{method:"POST",body:JSON.stringify({name:e,max_players:t,created_by:n})}),getAll:async()=>$("/tournaments",{method:"GET"}),getById:async e=>$(`/tournaments/${e}`,{method:"GET"}),join:async(e,t,n)=>$(`/tournaments/${e}/join`,{method:"POST",body:JSON.stringify({playerAliases:t,userId:n})}),leave:async(e,t)=>$(`/tournaments/${e}/leave`,{method:"DELETE",body:JSON.stringify({player_id:t})})}};function le(e={}){var O;const t=document.createElement("div");t.className="profile-settings";const n={username:"",displayName:"",skillLevel:"beginner",bio:"",...e},o=document.createElement("form");o.className="profile-form",o.noValidate=!0;const a=document.createElement("div");a.className="form-section";const r=document.createElement("div");r.className="avatar-section";const s=document.createElement("label");s.className="form-label",s.textContent="Customize Avatar";const i=document.createElement("div");i.className="avatar-container";const l=document.createElement("div");l.className="avatar-preview-container";const c=document.createElement("div");c.className="avatar-preview",c.innerHTML=`
    <i class="fas fa-user-circle"></i>
  `;const m=document.createElement("div");m.className="avatar-upload",m.innerHTML='<i class="fas fa-camera"></i>';const u=document.createElement("input");u.type="file",u.accept="image/*",u.className="avatar-input",u.hidden=!0;const p=document.createElement("button");p.type="button",p.className="secondary-button",p.textContent="Change Avatar",p.style.marginTop="1rem",p.addEventListener("click",()=>u.click()),l.appendChild(c),l.appendChild(m),i.appendChild(l),i.appendChild(p),i.appendChild(u),r.appendChild(s),r.appendChild(i),a.appendChild(r);const h=j({label:"Username",name:"username",type:"text",value:n.username,required:!0,placeholder:"Enter your username"}),f=j({label:"Display Name",name:"displayName",type:"text",value:n.displayName,required:!0,placeholder:"Enter your display name"}),b=document.createElement("div");b.className="form-group";const v=document.createElement("label");v.className="form-label",v.textContent="Skill Level",v.htmlFor="skillLevel";const T=[{id:"beginner",label:"Beginner",emoji:"üë∂"},{id:"intermediate",label:"Intermediate",emoji:"üí™"},{id:"expert",label:"Expert",emoji:"üèÜ"}],E=document.createElement("div");E.className="skill-level-options",T.forEach(({id:C,label:I,emoji:S})=>{const P=`skill-${C}`,d=document.createElement("div");d.className="radio-option",d.dataset.level=C;const g=document.createElement("input");g.type="radio",g.id=P,g.name="skillLevel",g.value=C,g.checked=n.skillLevel===C;const M=document.createElement("label");M.htmlFor=P,M.dataset.level=C;const B=document.createElement("span");B.className="level-emoji",B.textContent=S;const Z=document.createElement("span");Z.className="level-text",Z.textContent=I,M.appendChild(B),M.appendChild(document.createElement("br")),M.appendChild(Z),d.appendChild(g),d.appendChild(M),E.appendChild(d)}),b.appendChild(v),b.appendChild(E);const N=j({label:"Bio (Optional)",name:"bio",type:"textarea",value:n.bio,placeholder:"Tell us about yourself..."}),x=document.createElement("div");x.className="settings-button-container",x.innerHTML=`
    <button type="button" class="settings-button advanced-toggle-button">
      <span class="button-icon"><i class="fas fa-sliders-h"></i></span>
      <span class="button-text">ADVANCED SETTINGS</span>
      <span class="button-arrow"><i class="fas fa-chevron-down"></i></span>
    </button>
  `;const _=document.createElement("div");_.className="advanced-content",_.style.display="none";const Q=j({label:"New Password",name:"newPassword",type:"password",placeholder:"Leave blank to keep current",autoComplete:"new-password"}),F=j({label:"Confirm New Password",name:"confirmPassword",type:"password",placeholder:"Confirm your new password",autoComplete:"new-password"});_.appendChild(Q),_.appendChild(F);const L=x.querySelector(".advanced-toggle-button"),z=x.querySelector(".fa-chevron-down");L==null||L.addEventListener("click",()=>{const C=_.style.display!=="none";_.style.display=C?"none":"block",z&&(z.className=C?"fas fa-chevron-down":"fas fa-chevron-up")});const k=document.createElement("div");k.className="settings-button-container",k.innerHTML=`
    <button type="submit" class="settings-button save-changes-button">
      <span class="button-icon"><i class="fas fa-save"></i></span>
      <span class="button-text">SAVE CHANGES</span>
      <span class="button-check"><i class="fas fa-check"></i></span>
    </button>
  `,o.appendChild(a),o.appendChild(h),o.appendChild(f),o.appendChild(b),o.appendChild(N),o.appendChild(x),o.appendChild(_);const R=document.createElement("div");return R.className="settings-button-container",R.innerHTML=`
    <button type="button" class="settings-button game-history-button">
      <span class="button-icon"><i class="fas fa-history"></i></span>
      <span class="button-text">GAME HISTORY</span>
      <span class="button-arrow"><i class="fas fa-external-link-alt"></i></span>
    </button>
  `,(O=R.querySelector("button"))==null||O.addEventListener("click",()=>{console.log("Game History clicked"),ee("Game History feature coming soon!","info")}),o.appendChild(R),o.appendChild(k),o.addEventListener("submit",async C=>{C.preventDefault();const I=new FormData(o),S={};I.forEach((d,g)=>{d&&(S[g]=d)});const P=o.querySelector('input[name="skillLevel"]:checked');P&&(S.skillLevel=P.value);try{console.log("Updating profile:",S),ee("Profile updated successfully!","success")}catch(d){console.error("Error updating profile:",d),ee("Failed to update profile. Please try again.","error")}}),t.appendChild(o),t}function j({label:e,name:t,type:n,value:o="",required:a=!1,placeholder:r="",autoComplete:s="",className:i=""}){const l=document.createElement("div");l.className=`form-group ${i}`.trim();const c=document.createElement("label");c.className="form-label",c.htmlFor=t,c.textContent=e;let m;if(n==="textarea"){const u=document.createElement("textarea");u.id=t,u.name=t,u.value=o,u.placeholder=r,u.required=a,u.rows=3,m=u}else{const u=document.createElement("input");u.type=n,u.id=t,u.name=t,u.value=o,u.placeholder=r,u.required=a,s&&(u.autocomplete=s),m=u}return m.className="form-input",l.appendChild(c),l.appendChild(m),l}const ee=window.showMessage,he={en:{save_preference:"Would you like to save this language preference?",language_preference_saved:"Language preference saved!",language_changed:"Language changed!",change_language:"Change language",loading:"Loading...",home:"Home",tournaments:"Tournaments",register:"Register",login:"Login",logout:"Logout",profile:"Profile",language:"Language",open_for_registration:"Open for Registration",in_progress:"In Progress",completed:"Completed",upcoming_tournaments:"Upcoming Tournaments",meet_the_team:"Meet the Team",username:"Username",email:"Email",password:"Password",confirm_password:"Confirm Password",create_your_ACCOUNT:"Create Your ACCOUNT",register_for_neon_pong:"Register for Neon Pong",enter_username:"Enter your username",enter_email:"Enter your email",create_password:"Create a password",confirm_your_password:"Confirm your password",back_to_home:"Back to Home",neon_pong_title:"NEON PONG",hero_subtitle:"THE ULTIMATE RETRO-FUTURISTIC ARCADE EXPERIENCE.",hero_description:"Challenge your friends in a fast-paced game of skill and reflexes.",register_now_button:'<i class="fas fa-user-plus"></i> Register Now',about_project_title:"About the Project",about_project_content:"Neon Pong is a modern take on the classic arcade game, featuring stunning neon visuals and smooth gameplay. Built with cutting-edge web technologies, it brings the retro gaming experience to your browser.",copyright:"¬© 2025 Neon Pong. All rights reserved.",made_with_love:'Made with <i class="fas fa-heart"></i> by Four Innovative Minds.',pause:"Pause",resume:"Resume",restart:"Restart",game_over:"Game Over",score:"Score: {score}",high_score:"High Score: {score}",skip_to_content:"Skip to main content",high_contrast:"Toggle high contrast mode",increase_font_size:"Increase font size",decrease_font_size:"Decrease font size"},fr:{save_preference:"Voulez-vous enregistrer cette pr√©f√©rence de langue ?",language_preference_saved:"Pr√©f√©rence de langue enregistr√©e !",language_changed:"Langue modifi√©e !",change_language:"Changer de langue",loading:"Chargement...",home:"Accueil",tournaments:"Tournois",register:"S'inscrire",login:"Connexion",logout:"D√©connexion",profile:"Profil",language:"Langue",open_for_registration:"Ouvert aux inscriptions",in_progress:"En cours",completed:"Termin√©",upcoming_tournaments:"Prochains tournois",meet_the_team:"Rencontrez l'√©quipe",username:"Nom d'utilisateur",email:"E-mail",password:"Mot de passe",confirm_password:"Confirmer le mot de passe",create_your_ACCOUNT:"Cr√©ez votre compte",register_for_neon_pong:"Inscription √† Neon Pong",enter_username:"Entrez votre nom d'utilisateur",enter_email:"Entrez votre e-mail",create_password:"Cr√©ez un mot de passe",confirm_your_password:"Confirmez votre mot de passe",back_to_home:"Retour √† l'accueil",neon_pong_title:"NEON PONG",hero_subtitle:"L'EXP√âRIENCE ARCADE R√âTRO-FUTURISTE ULTIME.",hero_description:"D√©fiez vos amis dans un jeu rapide d'adresse et de r√©flexes.",register_now_button:`<i class="fas fa-user-plus"></i> S'inscrire Maintenant`,about_project_title:"√Ä Propos du Projet",about_project_content:"Neon Pong est une version moderne du jeu d'arcade classique, avec des visuels n√©on √©poustouflants et un gameplay fluide. Construit avec des technologies web de pointe, il apporte l'exp√©rience de jeu r√©tro √† votre navigateur.",copyright:"¬© 2025 Neon Pong. Tous droits r√©serv√©s.",made_with_love:'Fait avec <i class="fas fa-heart"></i> par Quatre Esprits Innovants.',pause:"Pause",resume:"Reprendre",restart:"Red√©marrer",game_over:"Partie Termin√©e",score:"Score : {score}",high_score:"Meilleur Score : {score}",skip_to_content:"Aller au contenu principal",high_contrast:"Activer le mode contraste √©lev√©",increase_font_size:"Augmenter la taille de police",decrease_font_size:"Diminuer la taille de police"},es:{save_preference:"¬øDesea guardar esta preferencia de idioma?",language_preference_saved:"¬°Preferencia de idioma guardada!",language_changed:"¬°Idioma cambiado!",change_language:"Cambiar idioma",loading:"Cargando...",home:"Inicio",tournaments:"Torneos",register:"Registrarse",login:"Iniciar Sesi√≥n",logout:"Cerrar Sesi√≥n",profile:"Perfil",language:"Idioma",open_for_registration:"Abierto para inscripciones",in_progress:"En progreso",completed:"Completado",upcoming_tournaments:"Pr√≥ximos torneos",meet_the_team:"Conoce al equipo",username:"Nombre de usuario",email:"Correo electr√≥nico",password:"Contrase√±a",confirm_password:"Confirmar contrase√±a",create_your_ACCOUNT:"Crea tu cuenta",register_for_neon_pong:"Reg√≠strate en Neon Pong",enter_username:"Ingresa tu nombre de usuario",enter_email:"Ingresa tu correo electr√≥nico",create_password:"Crea una contrase√±a",confirm_your_password:"Confirma tu contrase√±a",back_to_home:"Volver al inicio",neon_pong_title:"NEON PONG",hero_subtitle:"LA EXPERIENCIA ARCADE RETROFUTURISTA DEFINITIVA.",hero_description:"Desaf√≠a a tus amigos en un juego r√°pido de habilidad y reflejos.",register_now_button:'<i class="fas fa-user-plus"></i> Registrarse Ahora',about_project_title:"Acerca del Proyecto",about_project_content:"Neon Pong es una versi√≥n moderna del cl√°sico juego de arcade, con impresionantes gr√°ficos de ne√≥n y una jugabilidad fluida. Desarrollado con tecnolog√≠as web de vanguardia, lleva la experiencia de los juegos retro a tu navegador.",copyright:"¬© 2025 Neon Pong. Todos los derechos reservados.",made_with_love:'Hecho con <i class="fas fa-heart"></i> por Cuatro Mentes Innovadoras.',pause:"Pausa",resume:"Continuar",restart:"Reiniciar",game_over:"Juego Terminado",score:"Puntuaci√≥n: {score}",high_score:"Mejor Puntuaci√≥n: {score}",skip_to_content:"Saltar al contenido principal",high_contrast:"Alternar modo de alto contraste",increase_font_size:"Aumentar tama√±o de fuente",decrease_font_size:"Disminuir tama√±o de fuente"}};let y=(()=>{const e=localStorage.getItem("preferredLanguage");if(e)return e;const t=navigator.language.split("-")[0];return t==="fr"||t==="es"?t:"en"})();function D(){try{console.log(`[i18n] Updating UI texts (current language: ${y})`);const e=document.querySelectorAll("[data-i18n]");if(console.log(`[i18n] Found ${e.length} elements with data-i18n attribute`),e.length===0){console.warn("[i18n] No elements with data-i18n attribute found. Make sure your HTML elements have the data-i18n attribute."),console.log("[i18n] Checking for elements in the DOM...");const a=document.getElementById("app");a&&console.log("[i18n] App content:",a.innerHTML)}e.forEach((a,r)=>{var l;const s=a.getAttribute("data-i18n"),i=a.textContent||"";if(console.log(`[i18n] Processing element ${r+1}/${e.length}:`,{tag:a.tagName,key:s,currentContent:i.substring(0,50)+(i.length>50?"...":"")}),s)try{const c=U(s);console.log(`[i18n] Translation for '${s}':`,c),a.tagName==="INPUT"&&"placeholder"in a?(a.placeholder=c,console.log(`[i18n] Updated input placeholder with key '${s}'`)):a.tagName==="IMG"&&"alt"in a?(a.alt=c,console.log(`[i18n] Updated image alt with key '${s}'`)):a.tagName==="BUTTON"||a.tagName==="A"?/<[a-z][\s\S]*>/i.test(c)?(a.innerHTML=c,console.log(`[i18n] Updated button/link innerHTML with key '${s}'`)):(a.textContent=c,console.log(`[i18n] Updated button/link text with key '${s}'`)):(a.textContent=c,console.log(`[i18n] Updated element text with key '${s}'`)),console.log(`[i18n] Successfully updated element with key '${s}':`,a)}catch(c){console.error(`[i18n] Error updating element with key '${s}':`,c),console.error("[i18n] Element details:",{tagName:a.tagName,id:a.id,className:a.className,parentNode:(l=a.parentNode)==null?void 0:l.nodeName})}else console.warn("[i18n] Empty data-i18n attribute found on element:",a)});const t=document.querySelector("title");if(t){const a=t.getAttribute("data-i18n");a&&(t.textContent=U(a))}document.querySelectorAll("[data-i18n-placeholder]").forEach(a=>{const r=a.getAttribute("data-i18n-placeholder");r&&"placeholder"in a&&(a.placeholder=U(r))});const o=document.querySelector("title[data-i18n]");if(o){const a=o.getAttribute("data-i18n");a&&(document.title=U(a))}console.log("UI texts updated successfully")}catch(e){console.error("Error updating UI texts:",e)}}const U=(e,t="")=>{try{if(!e)return console.warn("[i18n] Empty translation key provided"),t||e||"";const n=he[y];if(!n)return console.error(`[i18n] No translations found for language: ${y}`),t||e;if(e in n){const r=n[e];return r==null?(console.warn(`[i18n] Empty translation for key: ${e}`),t||e):String(r)}const o=e.split(".");let a=n;for(const r of o)if(a&&typeof a=="object"&&r in a)a=a[r];else{const s=Object.keys(n).find(i=>i.toLowerCase()===e.toLowerCase());return s?(console.warn(`[i18n] Using similar key '${s}' for '${e}'`),String(n[s])):(console.warn(`[i18n] Translation key not found: '${e}' (language: ${y})`),console.log(`[i18n] Available keys in ${y}:`,Object.keys(n)),t||e)}return a==null?(console.warn(`[i18n] Empty translation for key: ${e}`),t||e):String(a)}catch(n){return console.error(`[i18n] Error getting translation for key '${e}':`,n),t||e}};function be(e,t){const n=document.getElementById("language-confirm-modal");n&&n.remove();const o=document.createElement("div");o.id="language-confirm-modal",o.className="language-confirm-modal",o.setAttribute("role","dialog"),o.setAttribute("aria-labelledby","language-confirm-title"),o.setAttribute("aria-modal","true");const a={en:"English",fr:"Fran√ßais",es:"Espa√±ol"}[e];o.innerHTML=`
    <div class="language-confirm-content">
      <h3 id="language-confirm-title" data-i18n="language_confirm_title">Change language to ${a}?</h3>
      <p data-i18n="language_confirm_message">Would you like to save this as your preferred language?</p>
      <div class="language-confirm-buttons">
        <button class="btn btn-secondary" id="language-confirm-no" data-i18n="no_thanks">No thanks</button>
        <button class="btn btn-primary" id="language-confirm-yes" data-i18n="yes_save">Yes, save preference</button>
      </div>
    </div>
  `,document.body.appendChild(o);const r=document.getElementById("language-confirm-yes"),s=document.getElementById("language-confirm-no");r&&s&&(r.onclick=()=>{o.remove(),t(!0)},s.onclick=()=>{o.remove(),t(!1)}),o.onclick=l=>{l.target===o&&(o.remove(),t(!1))};const i=l=>{l.key==="Escape"&&(o.remove(),t(!1),document.removeEventListener("keydown",i))};document.addEventListener("keydown",i)}function V(e){e!==y&&be(e,t=>{console.log(`[i18n] Changing language to: ${e}`,{savePreference:t}),t?(localStorage.setItem("preferredLanguage",e),re(U("language_preference_saved"))):re(U("language_changed")),y=e;const n=document.querySelector(".language-select");n&&(n.value=e),D();const o=new CustomEvent("languageChanged",{detail:{language:e}});document.dispatchEvent(o),console.log(`[i18n] Language changed to: ${e}`)})}function re(e){const t=document.querySelector(".language-feedback");t&&t.remove();const n=document.createElement("div");n.className="language-feedback",n.textContent=e,document.body.appendChild(n),setTimeout(()=>{n.classList.add("fade-out"),setTimeout(()=>n.remove(),300)},3e3)}const ce=[{code:"en",name:"English",flag:"üá¨üáß"},{code:"fr",name:"Fran√ßais",flag:"üá´üá∑"},{code:"es",name:"Espa√±ol",flag:"üá™üá∏"}];function de(){console.log("[i18n] Creating language switcher...");const e=document.createElement("div");e.className="language-switcher",console.log("[i18n] Created container:",e);const t=document.createElement("select");return t.className="language-select",t.setAttribute("aria-label","Select language"),t.title="Select language",t.tabIndex=0,console.log("[i18n] Adding language options..."),ce.forEach(n=>{const o=document.createElement("option");o.value=n.code,o.textContent=`${n.flag} ${n.name}`,t.appendChild(o)}),t.value=y,t.addEventListener("change",n=>{const a=n.target.value;console.log(`[i18n] Language changed to: ${a}`),V(a)}),e.appendChild(t),console.log("[i18n] Language switcher created:",e),e}document.addEventListener("languageChanged",()=>{document.querySelectorAll(".language-select").forEach(t=>{t.value!==y&&(t.value=y)})});function ne(){try{console.log("[i18n] Initializing language system...");const e=document.createElement("style");e.textContent=`
      .language-select,
      .language-select:focus,
      .language-select:active,
      .language-select:hover,
      .language-switcher,
      .language-switcher-container,
      #language-switcher-container,
      #language-switcher-container * {
        border-color: rgba(255, 255, 255, 0.2) !important;
        outline: none !important;
        box-shadow: none !important;
      }
      
      select.language-select {
        -webkit-appearance: none !important;
        -moz-appearance: none !important;
        appearance: none !important;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E") !important;
        background-repeat: no-repeat !important;
        background-position: right 12px center !important;
        background-size: 12px !important;
        padding-right: 30px !important;
      }
    `,document.head.appendChild(e),ye();const t=()=>{console.log("[i18n] Looking for language switcher container...");const n=document.getElementById("language-switcher-container");if(!n)return console.error("[i18n] Language switcher container not found!"),!1;console.log("[i18n] Found container, checking parent:",n.parentElement);const o=de();n.innerHTML="",n.appendChild(o),n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.visibility="visible",n.style.opacity="1",n.style.border="1px solid #00ff00",n.style.padding="5px",n.style.borderRadius="4px";const a=n.querySelector("select.language-select");return a?(a.value=y,a.setAttribute("data-initialized","true"),a.addEventListener("change",r=>{const i=r.target.value;console.log(`[i18n] Language changed to: ${i}`),V(i)}),console.log("[i18n] Language switcher initialized successfully"),!0):(console.error("[i18n] Failed to create select element!"),!1)};t()||(console.log("[i18n] Retrying language switcher initialization..."),setTimeout(()=>{t()||console.error("[i18n] Failed to initialize language switcher after retry")},500))}catch(e){console.error("[i18n] Error initializing language system:",e)}}function ve(){console.warn("[i18n] Creating fallback language switcher...");const e=document.createElement("div");e.id="language-switcher-fallback",e.className="language-switcher-container",e.style.position="fixed",e.style.top="10px",e.style.right="10px",e.style.zIndex="9999",e.style.padding="10px",e.style.background="#1a1a2e",e.style.border="1px solid #00e6ff",e.style.borderRadius="4px";const t=document.createElement("select");t.className="language-select",t.style.padding="5px",t.style.borderRadius="4px",t.style.border="1px solid #00e6ff",t.style.background="#1a1a2e",t.style.color="white",ce.forEach(n=>{const o=document.createElement("option");o.value=n.code,o.textContent=`${n.flag} ${n.name}`,t.appendChild(o)}),t.value=y,t.addEventListener("change",n=>{const a=n.target.value;console.log(`[i18n] Language changed to: ${a}`),V(a)}),e.appendChild(t),document.body.appendChild(e),console.log("[i18n] Fallback language switcher created")}function ye(){window.removeEventListener("popstate",D),document.removeEventListener("languageChanged",D),window.addEventListener("popstate",D),document.addEventListener("languageChanged",D),setTimeout(()=>{console.log("[i18n] Performing initial UI update..."),D();const e=document.querySelector(".language-select");e&&e.value!==y&&(console.log(`[i18n] Correcting language switcher value to: ${y}`),e.value=y)},300),console.log("[i18n] Language system initialized")}const se=Object.freeze(Object.defineProperty({__proto__:null,createFallbackLanguageSwitcher:ve,createLanguageSwitcher:de,get currentLanguage(){return y},initLanguage:ne,setLanguage:V,t:U,updateUITexts:D},Symbol.toStringTag,{value:"Module"}));window.messageTimeout=null;let W=null;window.currentGameContainer=null;function w(e){K(),setTimeout(()=>{history.pushState(null,"",e);const t=document.getElementById("app");if(t){G(t),document.title=ue(e);const n=document.getElementById("screen-reader-live-region");n&&(n.textContent="",n.textContent=`Navigated to ${document.title}.`),window.scrollTo(0,0)}X()},300)}function ue(e){switch(e){case"/":return"Home - Neon Pong";case"/tournament":return"Tournaments - Neon Pong";case"/register":return"Register - Neon Pong";case"/login":return"Login - Neon Pong";default:return"Page Not Found - Neon Pong"}}function me(){const e=document.createElement("div");e.className="loading-overlay hidden",e.id="loading-overlay",e.setAttribute("role","status"),e.setAttribute("aria-live","assertive");const t=document.createElement("div");t.className="spinner",e.appendChild(t);const n=document.createElement("p");return n.className="loading-text",n.textContent="Loading...",n.setAttribute("aria-label","Content is loading"),e.appendChild(n),e}function K(){const e=document.getElementById("app");if(e){let t=document.getElementById("loading-overlay");t||(t=me(),e.appendChild(t)),t.classList.remove("hidden")}}function X(){const e=document.getElementById("loading-overlay");e&&e.classList.add("hidden")}function A(e,t="info"){const n=document.querySelector(".message");n&&n.remove(),window.messageTimeout&&clearTimeout(window.messageTimeout);const o=document.createElement("div");o.className=`message ${t}-message`;const a=document.createElement("div");a.className="message-content",a.textContent=e;const r=document.createElement("button");r.className="close-button",r.innerHTML="&times;",r.setAttribute("aria-label","Close message"),r.addEventListener("click",()=>{o.remove(),window.messageTimeout&&clearTimeout(window.messageTimeout)});let s="";t==="success"?s="‚úì":t==="error"?s="‚úï":s="‚Ñπ";const i=document.createElement("span");i.className="message-icon",i.textContent=s,o.appendChild(i),o.appendChild(a),o.appendChild(r),o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","true"),document.body.appendChild(o),window.messageTimeout=window.setTimeout(()=>{o.style.opacity="0",o.style.transform="translateY(-20px)",setTimeout(()=>o.remove(),300)},5e3)}let q=!1,H=1;function Ce(){q=!q,document.body.classList.toggle("high-contrast",q),localStorage.setItem("highContrast",q.toString())}function ie(e){const a=Math.max(.8,Math.min(2,H+(e?.1:-.1)));if(a!==H){H=a,document.documentElement.style.setProperty("--font-size-multiplier",H.toString()),document.body.style.display="none",document.body.offsetHeight,document.body.style.display="";const r=document.querySelector(".font-size-display");if(r){const s=Math.round(H*100),i=`Font size set to ${s}%`;r.textContent=`${s}%`,localStorage.setItem("fontSizeMultiplier",H.toString()),r.classList.add("active"),setTimeout(()=>r.classList.remove("active"),500);const l=document.getElementById("a11y-announcement");l?(l.textContent=i,setTimeout(()=>l.textContent="",1e3)):A(i,"info")}}}function Ee(){localStorage.getItem("highContrast")==="true"&&(q=!0,document.body.classList.add("high-contrast"));const t=parseFloat(localStorage.getItem("fontSizeMultiplier")||"1");t>=.8&&t<=1.5&&(H=t,document.documentElement.style.setProperty("--font-size-multiplier",H.toString()))}typeof document<"u"&&document.addEventListener("DOMContentLoaded",Ee);function we(){const e=document.createElement("nav");e.className="navbar",e.setAttribute("aria-label","Main navigation");const t=document.createElement("a");t.className="navbar-logo",t.setAttribute("data-i18n","neon_pong_title"),t.textContent="Neon Pong",t.href="/",t.addEventListener("click",d=>{d.preventDefault(),w("/")});const n=document.createElement("div");n.id="mobile-menu",n.className="menu-toggle",n.setAttribute("aria-expanded","false"),n.setAttribute("aria-controls","navbarLinksContainer");for(let d=0;d<3;d++){const g=document.createElement("span");g.className="bar",n.appendChild(g)}const o=document.createElement("div");o.id="navbarLinksContainer",o.className="navbar-links-container";const a=document.createElement("div");a.className="navbar-links",console.log("[Navbar] Creating language switcher container...");const r=document.createElement("div");r.id="language-switcher-container",r.className="language-switcher-container",r.style.border="none",r.style.outline="none",r.style.boxShadow="none";const s=document.createElement("div");s.className="language-switcher",s.innerHTML="Loading languages...",r.appendChild(s),console.log("[Navbar] Language switcher container created:",r),a.setAttribute("role","menubar");const i=document.createElement("a");i.href="/",i.className="navbar-link",i.setAttribute("data-i18n","home"),i.textContent="Home",i.setAttribute("role","menuitem"),i.addEventListener("click",d=>{d.preventDefault(),w("/")});const l=document.createElement("a");l.href="/tournament",l.className="navbar-link",l.setAttribute("data-i18n","tournaments"),l.textContent="Tournaments",l.setAttribute("role","menuitem"),l.addEventListener("click",d=>{d.preventDefault(),w("/tournament")});const c=document.createElement("a");c.href="/ACCOUNT",c.className="navbar-link",c.setAttribute("data-i18n","SIGN IN/SIGN UP"),c.textContent="ACCOUNT",c.setAttribute("role","menuitem"),c.addEventListener("click",d=>{d.preventDefault();const g=window.location.pathname;w((g==="/login"||g==="/register")&&g==="/login"?"/register":"/login")}),a.appendChild(i),a.appendChild(l);const m=document.createElement("a");m.href="/dashboard",m.className="navbar-link",m.textContent="Dashboard",m.setAttribute("role","menuitem"),m.addEventListener("click",d=>{d.preventDefault(),w("/dashboard")}),a.appendChild(m),a.appendChild(c);const u=document.createElement("div");u.className="profile-container";const p=document.createElement("button");p.className="profile-button",p.setAttribute("aria-label","Profile menu"),p.setAttribute("aria-expanded","false"),p.setAttribute("aria-haspopup","true");const h=document.createElement("i");h.className="fas fa-user-circle",p.appendChild(h);const f=document.createElement("div");f.className="profile-dropdown",f.setAttribute("role","menu");const b=document.createElement("div");b.className="dropdown-content";const v=document.createElement("div");v.className="profile-settings-container";const T=document.createElement("div");T.className="dropdown-header",T.innerHTML=`
    <i class="fas fa-user-circle"></i>
    <span>Guest</span>
  `,v.appendChild(T);const E=document.createElement("div");E.className="dropdown-divider",v.appendChild(E),[{icon:"fa-cog",text:"Profile Settings",action:"settings"},{icon:"fa-sign-out-alt",text:"Sign Out",action:"signout"}].forEach(d=>{const g=document.createElement("a");g.href="#",g.className="dropdown-item",g.setAttribute("role","menuitem"),g.setAttribute("data-action",d.action),g.innerHTML=`
      <i class="fas ${d.icon}"></i>
      <span>${d.text}</span>
    `,v.appendChild(g)}),b.appendChild(v);const x=document.createElement("div");x.className="profile-form-container",x.style.display="none";const _=document.createElement("button");_.className="dropdown-back",_.innerHTML=`
    <i class="fas fa-arrow-left"></i>
    <span>Back to Menu</span>
  `,_.addEventListener("click",()=>{v.style.display="block",x.style.display="none"}),x.appendChild(_);const Q=le({username:"username123",displayName:"Player",skillLevel:"intermediate",bio:"Ping pong enthusiast!",avatar:""});x.appendChild(Q),b.appendChild(x),b.addEventListener("click",d=>{const M=d.target.closest(".dropdown-item");if(!M)return;d.preventDefault();const B=M.getAttribute("data-action");B==="settings"?(v.style.display="none",x.style.display="block"):B==="signout"&&console.log("User signed out")}),f.appendChild(b),u.appendChild(p),u.appendChild(f),p.addEventListener("click",d=>{d.stopPropagation();const g=p.getAttribute("aria-expanded")==="true";p.setAttribute("aria-expanded",(!g).toString()),f.classList.toggle("show",!g)}),document.addEventListener("click",d=>{u.contains(d.target)||(p.setAttribute("aria-expanded","false"),f.classList.remove("show"))}),a.appendChild(u);const F=document.createElement("div");F.className="accessibility-controls",F.setAttribute("aria-label","Accessibility controls"),console.log("Adding language switcher to accessibility controls"),r.style.display="flex",r.style.visibility="visible",r.style.opacity="1",r.style.position="relative",r.style.zIndex="1000",r.style.minWidth="150px",r.style.height="40px",r.style.alignItems="center",r.style.justifyContent="center",r.style.border="1px solid rgba(255, 255, 255, 0.2)",r.style.borderRadius="6px",r.style.padding="0.5rem",r.style.backgroundColor="rgba(255, 255, 255, 0.05)",r.style.transition="all 0.2s ease";const L=r.querySelector("select");L?(console.log("Found select element in language switcher"),L.style.color="white",L.style.backgroundColor="#1a1a2e",L.style.border="1px solid #00e6ff",L.style.borderRadius="4px",L.style.padding="5px",L.style.minWidth="120px",L.style.fontSize="14px",L.style.cursor="pointer"):console.error("No select element found in language switcher!"),console.log("Language switcher container before append:",r.outerHTML),F.appendChild(r),console.log("Accessibility controls after appending language switcher:"),console.log(F.outerHTML),setTimeout(()=>{const d=document.getElementById("language-switcher-container");console.log("DOM check - language switcher container:",d),d&&console.log("Language switcher container styles:",window.getComputedStyle(d))},1e3);const z=document.createElement("button");z.className="accessibility-btn",z.innerHTML='<i class="fas fa-adjust" aria-hidden="true"></i>',z.setAttribute("aria-label","Toggle high contrast mode"),z.setAttribute("title","Toggle high contrast mode"),z.addEventListener("click",Ce);const k=document.createElement("div");k.className="font-size-controls",k.setAttribute("aria-label","Font size controls");const R=document.createElement("span");R.className="sr-only",R.textContent="Font size: ",k.appendChild(R);const O=document.createElement("button");O.className="font-size-btn",O.innerHTML='<i class="fas fa-minus" aria-hidden="true"></i> <span class="sr-only">Decrease font size</span>',O.setAttribute("aria-label","Decrease font size"),O.setAttribute("title","Decrease font size (Smaller text)"),O.addEventListener("click",d=>{d.preventDefault(),ie(!1)});const C=document.createElement("span");C.className="font-size-display",C.textContent="A",C.setAttribute("aria-hidden","true");const I=document.createElement("button");I.className="font-size-btn",I.innerHTML='<i class="fas fa-plus" aria-hidden="true"></i> <span class="sr-only">Increase font size</span>',I.setAttribute("aria-label","Increase font size"),I.setAttribute("title","Increase font size (Larger text)"),I.addEventListener("click",d=>{d.preventDefault(),ie(!0)}),k.appendChild(O),k.appendChild(C),k.appendChild(I);const S=document.createElement("a");S.href="#main-content",S.className="skip-to-content",S.textContent="Skip to main content",S.setAttribute("tabindex","0");const P=document.createElement("div");return P.className="controls-container",P.appendChild(k),P.appendChild(r),P.appendChild(z),F.appendChild(P),o.appendChild(a),o.appendChild(F),e.prepend(S),e.appendChild(t),e.appendChild(n),e.appendChild(o),n.addEventListener("click",()=>{o.classList.toggle("active"),n.classList.toggle("active");const d=n.classList.contains("active");if(n.setAttribute("aria-expanded",String(d)),window.innerWidth<=768){const g=document.getElementById("language-switcher-container");g&&(g.style.display=d?"flex":"none")}}),a.querySelectorAll(".navbar-link").forEach(d=>{d.addEventListener("click",()=>{window.innerWidth<=768&&(o.classList.remove("active"),n.classList.remove("active"),n.setAttribute("aria-expanded","false"))})}),document.addEventListener("click",d=>{window.innerWidth<=768&&!o.contains(d.target)&&!n.contains(d.target)&&o.classList.contains("active")&&(o.classList.remove("active"),n.classList.remove("active"),n.setAttribute("aria-expanded","false"))}),e}function Y(){return document.createElement("footer")}function Ne(){const e=document.createElement("div");e.className="page",e.setAttribute("role","main"),e.id="home";const t=document.createElement("section");t.className="hero-section content-section";const n=document.createElement("img");n.className="ping-pong-paddle";const o=document.createElement("h1");o.className="hero-title",o.setAttribute("data-i18n","neon_pong_title"),o.textContent="NEON PONG";const a=document.createElement("h2");a.className="hero-subtitle",a.setAttribute("data-i18n","hero_subtitle"),a.textContent="THE ULTIMATE RETRO-FUTURISTIC ARCADE EXPERIENCE.";const r=document.createElement("p");r.className="hero-description",r.setAttribute("data-i18n","hero_description"),r.textContent="Challenge your friends in a fast-paced game of skill and reflexes.";const s=document.createElement("div");s.className="hero-cta";const i=document.createElement("button");i.className="primary-button register-cta-button",i.setAttribute("data-i18n","register_now_button"),i.innerHTML='<i class="fas fa-user-plus"></i> Register Now',i.addEventListener("click",()=>w("/register")),s.appendChild(i),t.appendChild(n),t.appendChild(o),t.appendChild(a),t.appendChild(r),t.appendChild(s),e.appendChild(t);const l=document.createElement("section");l.id="team",l.className="content-section";const c=document.createElement("h2");c.className="section-title",c.setAttribute("data-i18n","meet_the_team"),c.textContent="Meet the Team",l.appendChild(c);const m=document.createElement("div");return m.className="team-grid",[{name:"Hanieh",avatar:"./pic1.png"},{name:"Mira",avatar:"./pic2.png"},{name:"Reem",avatar:"./pic3.png"},{name:"Omniat",avatar:"./pic4.png"}].forEach(p=>{const h=document.createElement("div");h.className="team-member-card";const f=document.createElement("img");f.src=p.avatar,f.alt=`Avatar of ${p.name}`,f.className="team-member-avatar";const b=document.createElement("p");b.className="team-member-name",b.textContent=p.name,h.appendChild(f),h.appendChild(b),m.appendChild(h)}),l.appendChild(m),e.appendChild(l),e.appendChild(Y()),e}function xe(){const e=document.createElement("div");e.className="page content-section",e.id="tournaments-page",e.setAttribute("role","main");const t=document.createElement("h1");t.className="section-title",t.textContent="Tournaments",e.appendChild(t);const n=document.createElement("button");n.className="primary-button",n.style.cssText="margin-bottom: 2rem; display: block; margin-left: auto; margin-right: auto;",n.innerHTML='<i class="fas fa-plus"></i> Create Tournament',n.addEventListener("click",_e),e.appendChild(n);const o=document.createElement("div");return o.className="tournament-list",o.setAttribute("role","list"),o.id="tournament-list-container",e.appendChild(o),Le(o),e.appendChild(Y()),e}async function Le(e){K();try{const t=await J.tournaments.getAll();t.data&&t.data.length>0?(e.innerHTML="",t.data.forEach(n=>{const o=document.createElement("div");o.className="tournament-item",o.setAttribute("role","listitem");let a="",r="",s=!1;n.status==="pending"?(a="status-open",r="Join Tournament"):n.status==="started"?(a="status-in-progress",r="View Progress",s=!0):(a="status-completed",r="View Results"),o.innerHTML=`
          <h3>${n.name}</h3>
          <p class="tournament-status"><span class="status-indicator ${a}"></span> ${n.status}</p>
          <p><strong>Max Players:</strong> ${n.max_players}</p>
          <button class="primary-button join-button ${n.status==="completed"?"secondary-button":""}" ${s?"disabled":""}>${r}</button>
        `;const i=o.querySelector(".join-button");i&&n.status==="pending"&&i.addEventListener("click",()=>{console.log(`Joining tournament: ${n.name}`)}),e.appendChild(o)})):e.innerHTML=`
        <div style="text-align: center; color: var(--text-color-light); padding: 2rem;">
          <p>No tournaments available. Create one to get started!</p>
        </div>
      `}catch(t){e.innerHTML=`
      <div style="text-align: center; color: var(--error-color); padding: 2rem;">
        <p>Failed to load tournaments. Please try again later.</p>
      </div>
    `,console.error("Failed to load tournaments:",t)}finally{X()}}function te(e=!0){const t=document.createElement("div");t.className="page content-section",t.id=e?"login":"register",t.setAttribute("role","main");const n=document.createElement("div");n.className="form-container";const o=document.createElement("p");o.className="text-center mt-4";const a=document.createElement("a");a.href="#",a.className="text-blue-500 hover:underline",a.textContent=e?"Create an ACCOUNT":"Sign in to existing ACCOUNT",a.addEventListener("click",E=>{E.preventDefault(),w(e?"/register":"/login")});const r=document.createElement("div");r.className="toggle-text-container";const s=document.createElement("span");s.className="toggle-text",s.textContent=e?"Don't have an account? ":"Already have an account? ",a.className="toggle-link neon-text",a.style.marginLeft="4px",a.style.textDecoration="none",a.style.transition="all 0.3s ease",a.style.fontWeight="600",a.addEventListener("mouseenter",()=>{a.style.textShadow="0 0 10px rgba(99, 102, 241, 0.8)"}),a.addEventListener("mouseleave",()=>{a.style.textShadow="none"}),r.appendChild(s),r.appendChild(a),o.appendChild(r);const i=document.createElement("h2");i.className="form-title",i.textContent=e?"Login to Neon Pong":"Register for Neon Pong";const l=document.createElement("form");l.noValidate=!0;let c=null;if(!e){const E=document.createElement("label");E.className="form-label",E.textContent="Email",c=document.createElement("input"),c.type="email",c.className="form-input",c.required=!0,c.placeholder="Enter your email",l.appendChild(E),l.appendChild(c)}const m=document.createElement("label");m.className="form-label",m.textContent="Username";const u=document.createElement("input");u.type="text",u.className="form-input",u.required=!0,u.placeholder="Choose a username";const p=document.createElement("label");p.className="form-label",p.textContent="Password";const h=document.createElement("input");h.type="password",h.className="form-input",h.required=!0,h.placeholder="Create a password";let f=null,b=null;e||(b=document.createElement("label"),b.className="form-label",b.textContent="Confirm Password",f=document.createElement("input"),f.type="password",f.className="form-input",f.required=!0,f.placeholder="Confirm your password");const v=document.createElement("button");v.type="submit",v.className="primary-button w-full",v.textContent=e?"Login":"Register";const T=document.createElement("button");return T.type="button",T.className="secondary-button w-full mt-2",T.textContent="Back to Home",T.addEventListener("click",()=>w("/")),e||l.appendChild(document.createElement("br")),l.appendChild(m),l.appendChild(u),l.appendChild(document.createElement("br")),l.appendChild(p),l.appendChild(h),!e&&f&&b&&(l.appendChild(document.createElement("br")),l.appendChild(b),l.appendChild(f)),e&&l.appendChild(document.createElement("br")),l.appendChild(v),l.appendChild(T),n.appendChild(i),n.appendChild(l),n.appendChild(o),t.appendChild(n),t.appendChild(Y()),l.addEventListener("submit",async E=>{if(E.preventDefault(),!e&&h.value!==(f==null?void 0:f.value)){A("Passwords do not match","error");return}K();try{if(e){const N=await J.users.login(u.value,h.value);N.data?(W={id:N.data.userId,username:u.value},A("Login successful!","success"),w("/tournament")):A(N.error||"Login failed","error")}else if(c){const N=await J.users.register(u.value,h.value,c.value);N.data?(W={id:N.data.userId,username:u.value},A("Registration successful!","success"),w("/tournament")):A(N.error||"Registration failed","error")}}catch(N){console.error("Auth error:",N),A("An error occurred. Please try again.","error")}finally{X()}}),t}function _e(){const e=document.createElement("div");e.className="modal-overlay",e.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
  `;const t=document.createElement("div");t.className="modal-content",t.style.cssText=`
    background: var(--bg-color);
    border: 2px solid var(--primary-color);
    border-radius: 10px;
    padding: 2rem;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 0 20px var(--primary-color);
  `,t.innerHTML=`
    <h2 style="color: var(--primary-color); margin-bottom: 1.5rem; text-align: center;">Create Tournament</h2>
    <form id="create-tournament-form">
      <label for="tournament-name" style="display: block; margin-bottom: 0.5rem; color: var(--text-color);">Tournament Name:</label>
      <input type="text" id="tournament-name" required style="width: 100%; padding: 0.8rem; margin-bottom: 1rem; border: 1px solid var(--primary-color); border-radius: 5px; background: var(--bg-color); color: var(--text-color);">
      <label for="max-players" style="display: block; margin-bottom: 0.5rem; color: var(--text-color);">Max Players:</label>
      <select id="max-players" required style="width: 100%; padding: 0.8rem; margin-bottom: 1.5rem; border: 1px solid var(--primary-color); border-radius: 5px; background: var(--bg-color); color: var(--text-color);">
        <option value="">Select Players</option>
        <option value="4">4 Players</option>
        <option value="8">8 Players</option>
      </select>
      <div style="display: flex; gap: 1rem; justify-content: flex-end;">
        <button type="button" id="cancel-tournament" class="secondary-button">Cancel</button>
        <button type="submit" class="primary-button">Create Tournament</button>
      </div>
    </form>
  `,e.appendChild(t),document.body.appendChild(e);const n=e.querySelector("#create-tournament-form");e.querySelector("#cancel-tournament").addEventListener("click",()=>{document.body.removeChild(e)}),e.addEventListener("click",a=>{a.target===e&&document.body.removeChild(e)}),n.addEventListener("submit",async a=>{if(a.preventDefault(),!W){A("Please register first to create a tournament.","error"),document.body.removeChild(e),w("/register");return}const r=e.querySelector("#tournament-name"),s=e.querySelector("#max-players"),i=r.value.trim(),l=parseInt(s.value);if(!i||!l){A("Please fill in all fields.","error");return}K();try{const c=await J.tournaments.create(i,l,W.id);if(c.data){if(A(`Tournament "${i}" created successfully!`,"success"),document.body.removeChild(e),window.location.pathname==="/tournament"){const m=document.getElementById("app");m&&G(m)}}else A(c.error||"Failed to create tournament.","error")}catch(c){A("Failed to create tournament. Please try again.","error"),console.error("Tournament creation error:",c)}finally{X()}})}function G(e){const t=window.location.pathname;e.innerHTML="";let n=document.getElementById("screen-reader-live-region");n||(n=document.createElement("div"),n.id="screen-reader-live-region",n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.className="hidden-visually",document.body.appendChild(n));const a={"/":Ne,"/login":()=>te(!0),"/register":()=>te(!1),"/tournament":xe,"/profile":()=>le(),"/ACCOUNT":()=>te(!0)}[t],r=document.createElement("div");if(r.className="page-content-wrapper",e.appendChild(r),a)r.appendChild(a()),document.title=ue(t);else{const s=document.createElement("div");s.className="page content-section",s.id="not-found",s.setAttribute("role","main"),s.innerHTML='<h1 class="section-title">404 - Page Not Found</h1><p style="text-align:center; color: var(--text-color-light);">The page you are looking for does not exist.</p>';const i=document.createElement("button");i.className="primary-button back-button",i.textContent="Go to Home",i.addEventListener("click",()=>w("/")),s.appendChild(i),s.appendChild(Y()),r.appendChild(s),document.title="404 - Page Not Found - Neon Pong"}document.querySelectorAll(".navbar-link").forEach(s=>{s.classList.remove("active");const i=s.getAttribute("href"),l=window.location.pathname;(i===l||i==="/"&&l==="/")&&s.classList.add("active"),(l==="/tournament"&&i==="/tournament"||l==="/register"&&i==="/register")&&s.classList.add("active")})}document.addEventListener("DOMContentLoaded",async()=>{console.log("[App] DOM fully loaded, initializing application..."),console.log("[App] Initializing language system...");try{if(await ne(),console.log("[App] Language system initialized"),!document.querySelector("#language-switcher-container select.language-select")){console.warn("[App] Main language switcher not found, creating fallback...");const{createFallbackLanguageSwitcher:o}=await oe(async()=>{const{createFallbackLanguageSwitcher:a}=await Promise.resolve().then(()=>se);return{createFallbackLanguageSwitcher:a}},void 0);o()}}catch(n){console.error("[App] Error initializing language system:",n);try{const{createFallbackLanguageSwitcher:o}=await oe(async()=>{const{createFallbackLanguageSwitcher:a}=await Promise.resolve().then(()=>se);return{createFallbackLanguageSwitcher:a}},void 0);o()}catch(o){console.error("[App] Failed to create fallback language switcher:",o)}}console.log("[App] Finding app container...");const e=document.getElementById("app");if(!e){console.error("[App] Failed to find #app element");return}if(!e){console.error("Failed to find #app element");return}console.log("[App] Creating navigation bar...");const t=we();document.body.insertBefore(t,e),console.log("[App] Initializing language switcher...");try{await ne(),console.log("[App] Language switcher initialized")}catch(n){console.error("[App] Error initializing language switcher:",n)}if(!document.getElementById("loading-overlay")){const n=me();document.body.appendChild(n)}console.log("[App] Setting up routes..."),G(e),window.addEventListener("popstate",()=>{G(e)}),(window.location.pathname==="/"||window.location.pathname==="")&&w("/"),console.log("[App] Initialization complete")});window.addEventListener("popstate",()=>{if(window.currentGameContainer){window.currentGameContainer.remove(),window.currentGameContainer=null,document.body.style.overflow="";return}const e=document.getElementById("app");e&&G(e)});
